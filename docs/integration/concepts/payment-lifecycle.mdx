---
sidebar_position: 30
---

import Statuses from './img/payment_statuses.svg';

# Payment Life Cycle

Payment statuses are related to cart items rather than to the entire cart.

## Payment Statuses

Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.

the [`init`](/docs/api/10-init) request
the [`status`](/docs/api/15-status) request
the [`cancel`](/docs/api/20-cancel) request
the [`capture`](/docs/api/30-capture) request
the [`modify`](/docs/api/40-modify) request
the [`refund`](/docs/api/50-refund) request

<div class="columns">
  <div class="column">
    | Status | Description |
    | :-: | :--- |
    | `initiated` | the [`init`](/docs/api/10-init) request. |
    | `rejected` | ACS did not verify the provided cardholder's credentials. |
    | `expired` | The `TIMETOBUY` value expired. |
    | `approved` | ACS confirmed the cardholder's credentials. |
    | `canceled` | the [`cancel`](/docs/api/20-cancel) request |
    | `captured` | the [`capture`](/docs/api/30-capture) request |
    | `completed` | the [`capture`](/docs/api/30-capture) request |
    | `refunded` | the [`refund`](/docs/api/50-refund) request |
  </div>
  <div class="column">
    <Mermaid
      value={`
        flowchart TB
            initiated --> rejected
            initiated --> approved@{ shape: notch-rect}
            initiated --> expired
            approved --> canceled
            approved -- 1-step --> completed@{ shape: notch-rect}
            approved -- 2-step --> captured@{ shape: notch-rect}
            captured --> completed
            completed --> refunded
      `}
    />
:::info
about processing
:::
  </div>
</div>

## Payment Sequence Example

<Mermaid
      value={`
    sequenceDiagram
    participant Customer
    participant Merchant
    participant OmniCart
    participant ACS
    Customer ->> Merchant: 
    Merchant ->> OmniCart: init request
    OmniCart -->> Merchant: init response
    Note over Customer,ACS: Status is now initiated
    Merchant -->> Customer: payment page URL
    Customer ->> OmniCart: payment data
    OmniCart ->> Customer: redirect to ACS
    Customer ->> ACS: Confirm credentials
    ACS ->> OmniCart: OK
    Note over Customer,ACS: Status is now approved
    OmniCart ->> Customer: Final page URL
    alt
    OmniCart ->> Merchant: Callback
    else
    Merchant ->> OmniCart: status request
    OmniCart -->> Merchant: status response
    end
    opt
    Merchant ->> OmniCart: modify request
    OmniCart -->> Merchant: modify response
    end
    opt
    Merchant ->> OmniCart: cancel request
    OmniCart -->> Merchant: cancel response
    Note over Customer,ACS: Status is now cancled
    end
    opt
    Merchant ->> OmniCart: capture request
    OmniCart -->> Merchant: capture response
    end
    Note over Customer,ACS: Status is now captured
    OmniCart -->> OmniCart: processing
    Note over Customer,ACS: Status is now completed
    opt
    Merchant ->> OmniCart: modify request
    OmniCart -->> Merchant: modify response
    end
    opt
    Merchant ->> OmniCart: refund request
    OmniCart -->> Merchant: refund response
    Note over Customer,ACS: Status is now refunded
    end
      `}
    />