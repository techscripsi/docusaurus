---
id: get-auth
title: "Метод получения токена авторизации"
description: "Метод позволяет сгенерировать JWE-токен с помощью приватного ключа, полученного в системе RuStore Консоль. Также метод проводит проверку активности владельца приложения."
sidebar_label: "Метод получения токена авторизации"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/home-iot-api
custom_edit_url: null
---

import ApiTabs from "@theme/ApiTabs";
import DiscriminatorTabs from "@theme/DiscriminatorTabs";
import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import SecuritySchemes from "@theme/ApiExplorer/SecuritySchemes";
import MimeTabs from "@theme/MimeTabs";
import ParamsItem from "@theme/ParamsItem";
import ResponseSamples from "@theme/ResponseSamples";
import SchemaItem from "@theme/SchemaItem";
import SchemaTabs from "@theme/SchemaTabs";
import Heading from "@theme/Heading";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Метод получения токена авторизации"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/public/auth/"}
>
  
</MethodEndpoint>



Метод позволяет сгенерировать JWE-токен с помощью приватного ключа, полученного в системе RuStore Консоль. Также метод проводит проверку активности владельца приложения.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<MimeTabs
  className={"openapi-tabs__mime"}
>
  <TabItem
    label={"application/json"}
    value={"application/json-schema"}
  >
    <details
      style={{}}
      className={"openapi-markdown__details mime"}
      data-collapsed={false}
      open={true}
    >
      <summary
        style={{}}
        className={"openapi-markdown__details-summary-mime"}
      >
        <h3
          className={"openapi-markdown__details-summary-header-body"}
        >
          Body
        </h3>
      </summary><div
        style={{"textAlign":"left","marginLeft":"1rem"}}
      >
        
      </div><ul
        style={{"marginLeft":"1rem"}}
      >
        <SchemaItem
          collapsible={false}
          name={"companyId"}
          required={false}
          schemaName={"string"}
          qualifierMessage={undefined}
          schema={{"type":"string","x-stoplight":{"id":"2gsutwe5auimt"},"description":"`id` компании.","example":"123","deprecated":true}}
        >
          
        </SchemaItem><SchemaItem
          collapsible={false}
          name={"keyId"}
          required={true}
          schemaName={"string"}
          qualifierMessage={undefined}
          schema={{"type":"string","x-stoplight":{"id":"c45jib4vzc15r"},"description":"`id` ключа.","example":"20240926020918"}}
        >
          
        </SchemaItem><SchemaItem
          collapsible={false}
          name={"timestamp"}
          required={true}
          schemaName={"string"}
          qualifierMessage={undefined}
          schema={{"type":"string","x-stoplight":{"id":"cc79d1rd1g9no"},"example":"2022-07-08T13:24:41.8328711+03:00","description":"Время отправки запроса. Не должно отличаться от текущего серверного времени более, чем на 60 секунд."}}
        >
          
        </SchemaItem><SchemaItem
          collapsible={false}
          name={"signature"}
          required={true}
          schemaName={"string"}
          qualifierMessage={undefined}
          schema={{"type":"string","x-stoplight":{"id":"ywwfs9x5a8c72"},"description":"RSA-подпись SHA-512 hash от строки, содержащей `timestamp` запроса. \r\n\r\nАлгоритм создания и проверки подписи: SHA512withRSA. \r\n\r\nНеобходимые действия для формирования signature: \r\n\r\n1. Cоздайте сообщение для подписи, конкатенируя идентификатор ключа `keyId` и текущую дату `timestamp`.\r\n  :::note ПРИМЕР\r\n  * `keyId`: `123`\r\n  * `timestamp`: `2024-06-18T11:49:08.290+03:00`\r\n  * Получившееся сообщение (итог конкатенации): `1232024-06-18T11:49:08.290+03:00`\r\n  :::\r\n1. Вычислите хэш сообщения из пункта выше с использованием алгоритма SHA-512, получите `9d864a0…………3d757f`.\r\n1. Полученный в [RuStore Консоль](https://console.rustore.ru/sign-in) закрытый ключ, который представлен в формате `Base64` декодируйте, чтобы получить приватный ключ RSA. \r\n1. Используйте его для создания цифровой подписи хэша из п.2.<\r\n1. Закодирйте подпись из п.3 в `Base64` для получения `signature`, получившийся итог `AkLM0pQM……….xw==` и есть параметр `signature`.","example":"AkLM0pQM……….xw=="}}
        >
          
        </SchemaItem>
      </ul>
    </details>
  </TabItem>
</MimeTabs><div>
  <div>
    <ApiTabs
      label={undefined}
      id={undefined}
    >
      <TabItem
        label={"200"}
        value={"200"}
      >
        <div>
          
          
          Успешный ответ
          
          
        </div><div>
          <MimeTabs
            className={"openapi-tabs__mime"}
            schemaType={"response"}
          >
            <TabItem
              label={"application/json"}
              value={"application/json"}
            >
              <SchemaTabs
                className={"openapi-tabs__schema"}
              >
                <TabItem
                  label={"Schema"}
                  value={"Schema"}
                >
                  <details
                    style={{}}
                    className={"openapi-markdown__details response"}
                    data-collapsed={false}
                    open={true}
                  >
                    <summary
                      style={{}}
                      className={"openapi-markdown__details-summary-response"}
                    >
                      <strong>
                        Schema
                      </strong>
                    </summary><div
                      style={{"textAlign":"left","marginLeft":"1rem"}}
                    >
                      
                    </div><ul
                      style={{"marginLeft":"1rem"}}
                    >
                      <SchemaItem
                        collapsible={false}
                        name={"code"}
                        required={true}
                        schemaName={"string"}
                        qualifierMessage={undefined}
                        schema={{"type":"string","example":"OK","description":"Другое описание"}}
                      >
                        
                      </SchemaItem><SchemaItem
                        collapsible={false}
                        name={"message"}
                        required={false}
                        schemaName={"string"}
                        qualifierMessage={undefined}
                        schema={{"type":"string","example":"null","description":"<table><tr><th><code>message</code></th><th>Описание</th><th>Возможные действия</th></tr><tr><td><code>Range timestamp not valid</code></td><td>Параметр <code>timestamp</code> отличается более чем на 60 секунд.</td><td>Обновите <code>timestamp<code> и <code>signature</code>.</td></tr><tr><td><code>Range timestamp not valid</code></td><td>Параметр <code>timestamp</code> отличается более чем на 60 секунд.</td><td>Обновите <code>timestamp<code> и <code>signature</code>.</td></tr><tr><td><code>Range timestamp not valid</code></td><td>Параметр <code>timestamp</code> отличается более чем на 60 секунд.</td><td>Обновите <code>timestamp<code> и <code>signature</code>.</td></tr></table>","nullable":true}}
                      >
                        
                      </SchemaItem><SchemaItem
                        collapsible={true}
                        className={"schemaItem"}
                      >
                        <details
                          style={{}}
                          className={"openapi-markdown__details"}
                        >
                          <summary
                            style={{}}
                          >
                            <span
                              className={"openapi-schema__container"}
                            >
                              <strong
                                className={"openapi-schema__property"}
                              >
                                body
                              </strong><span
                                className={"openapi-schema__name"}
                              >
                                 object
                              </span><span
                                className={"openapi-schema__divider"}
                              >
                                
                              </span><span
                                className={"openapi-schema__required"}
                              >
                                required
                              </span>
                            </span>
                          </summary><div
                            style={{"marginLeft":"1rem"}}
                          >
                            <SchemaItem
                              collapsible={false}
                              name={"jwe"}
                              required={true}
                              schemaName={"string"}
                              qualifierMessage={undefined}
                              schema={{"type":"string","example":"eyJlbmMiOiJBM......nuuM227D_O1A"}}
                            >
                              
                            </SchemaItem><SchemaItem
                              collapsible={false}
                              name={"ttl"}
                              required={true}
                              schemaName={"integer"}
                              qualifierMessage={undefined}
                              schema={{"type":"integer","example":900}}
                            >
                              
                            </SchemaItem>
                          </div>
                        </details>
                      </SchemaItem><SchemaItem
                        collapsible={false}
                        name={"timestamp"}
                        required={true}
                        schemaName={"string"}
                        qualifierMessage={undefined}
                        schema={{"type":"string","example":"2022-07-08T13:24:41.8328711+03:00"}}
                      >
                        
                      </SchemaItem>
                    </ul>
                  </details>
                </TabItem><TabItem
                  label={"Example (from schema)"}
                  value={"Example (from schema)"}
                >
                  <ResponseSamples
                    responseExample={"{\n  \"code\": \"OK\",\n  \"message\": \"null\",\n  \"body\": {\n    \"jwe\": \"eyJlbmMiOiJBM......nuuM227D_O1A\",\n    \"ttl\": 900\n  },\n  \"timestamp\": \"2022-07-08T13:24:41.8328711+03:00\"\n}"}
                    language={"json"}
                  >
                    
                  </ResponseSamples>
                </TabItem>
              </SchemaTabs>
            </TabItem>
          </MimeTabs>
        </div>
      </TabItem><TabItem
        label={"400"}
        value={"400"}
      >
        <div>
          
          
          Неуспешный ответ
          
          
        </div><div>
          <MimeTabs
            className={"openapi-tabs__mime"}
            schemaType={"response"}
          >
            <TabItem
              label={"application/json"}
              value={"application/json"}
            >
              <SchemaTabs
                className={"openapi-tabs__schema"}
              >
                <TabItem
                  label={"Schema"}
                  value={"Schema"}
                >
                  <details
                    style={{}}
                    className={"openapi-markdown__details response"}
                    data-collapsed={false}
                    open={true}
                  >
                    <summary
                      style={{}}
                      className={"openapi-markdown__details-summary-response"}
                    >
                      <strong>
                        Schema
                      </strong>
                    </summary><div
                      style={{"textAlign":"left","marginLeft":"1rem"}}
                    >
                      
                    </div><ul
                      style={{"marginLeft":"1rem"}}
                    >
                      <SchemaItem
                        collapsible={false}
                        name={"code"}
                        required={true}
                        schemaName={"string"}
                        qualifierMessage={undefined}
                        schema={{"type":"string","example":"error","description":"Код ответа."}}
                      >
                        
                      </SchemaItem><SchemaItem
                        collapsible={false}
                        name={"message"}
                        required={true}
                        schemaName={"string"}
                        qualifierMessage={undefined}
                        schema={{"type":"string","example":"Range timestamp not valid","description":"<table><tr><th><code>message</code></th><th>Описание</th><th>Возможные действия</th></tr><tr><td><code>Range timestamp not valid</code></td><td>Параметр <code>timestamp</code> отличается более чем на 60 секунд.</td><td>Обновите <code>timestamp<code> и <code>signature</code>.</td></tr><tr><td><code>Range timestamp not valid</code></td><td>Параметр <code>timestamp</code> отличается более чем на 60 секунд.</td><td>Обновите <code>timestamp<code> и <code>signature</code>.</td></tr><tr><td><code>Range timestamp not valid</code></td><td>Параметр <code>timestamp</code> отличается более чем на 60 секунд.</td><td>Обновите <code>timestamp<code> и <code>signature</code>.</td></tr></table>"}}
                      >
                        
                      </SchemaItem>
                    </ul>
                  </details>
                </TabItem><TabItem
                  label={"Example (from schema)"}
                  value={"Example (from schema)"}
                >
                  <ResponseSamples
                    responseExample={"{\n  \"code\": \"error\",\n  \"message\": \"Range timestamp not valid\"\n}"}
                    language={"json"}
                  >
                    
                  </ResponseSamples>
                </TabItem>
              </SchemaTabs>
            </TabItem>
          </MimeTabs>
        </div>
      </TabItem>
    </ApiTabs>
  </div>
</div>
      